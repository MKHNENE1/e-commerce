<div class="mx-4 my-5">
  <div class="row g-5 px-5 w-100">
    <div
      class="d-flex flex-column gap-4 bg-light justify-content-center w-50 p-5 col-md-4"
    >
      <div class="d-flex justify-content-center">
        <img
          [src]="productDetails?.images[0]"
          class="img-fluid rounded-start"
          alt="Product Image"
          style="height: 300px"
        />
      </div>
      <div class="d-flex gap-2">
        <div class="bg-dark-subtle">
          <img
            src="{{ productDetails?.thumbnail }}"
            alt="Product Thumbnail"
            style="width: 70px; height: 70px; cursor: pointer"
          />
        </div>
      </div>
    </div>
    <div class="col-md-8 w-50">
      <div class="card-body">
        <h2 class="card-title">{{ productDetails?.title }}</h2>
        <p class="card-text my-3">{{ productDetails?.description }}</p>
        <div class="star-rating mb-3">
          <i *ngFor="let star of fullStars" class="fa fa-star text-success"></i>
          <i *ngIf="halfStar" class="fa fa-star-half-alt text-success"></i>
          <i *ngFor="let star of emptyStars" class="fa fa-star empty"></i>
          <span class="ms-2">({{ productDetails?.rating }})</span>
        </div>
        <div class="fs-4">
          <span class="text-danger">
            -{{ productDetails?.discountPercentage }}%
          </span>
          {{
            productDetails?.price
              | calculatePrice : productDetails?.discountPercentage
          }}
          $
        </div>
        <div class="fs-5">
          <span>List Price: </span>
          <span class="text-decoration-line-through">
            {{ productDetails?.price }} $
          </span>
        </div>
        <div class="">
          @if(productDetails?.availabilityStatus != "Out of Stock"){
          <div
            class="rounded-5 fs-small text-center text-white bg-success my-3"
          >
            {{ productDetails?.availabilityStatus }}
          </div>
          }@else {
          <div class="rounded-5 fs-small text-center text-white bg-danger my-3">
            {{ productDetails?.availabilityStatus }}
          </div>
          }
        </div>
        <p class="mb-1">More Information</p>
        <div class="d-flex gap-2 mt-0">
          @for (tag of productDetails?.tags; track $index) {
          <p
            class="rounded-pill fs-small fs-small text-black bg-dark-subtle text-capitalize text-center"
          >
            {{ tag }}
          </p>
          }
        </div>
        <div>
          <ul class="pagination">
            <li class="page-item">
              <button
                (click)="incProduct()"
                class="btn bg-dark-subtle rounded rounded-start-pill rounded-0 px-3 fw-bold hplus"
              >
                +
              </button>
            </li>
            <li class="page-item">
              <span
                class="page-link text-black bg-dark-subtle fw-bold border-0 h-100 px-3"
                style="cursor: default"
                >{{ counter }}</span
              >
            </li>
            <li class="page-item">
              <button
                (click)="dicProduct()"
                class="btn rounded rounded-end-pill rounded-0 border-start-0 bg-dark-subtle px-3 fw-bold hplus"
              >
                -
              </button>
            </li>
          </ul>
        </div>
        <div class="d-flex gap-2 mt-3">
          <button (click)="buyNow()" class="btn btn-success rounded-pill w-25">
            Buy Now
          </button>
          <button
            (click)="addToCart(productDetails?.id)"
            class="btn btn-outline-success rounded-pill w-25"
          >
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
